local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")

local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")

-- GUI Setup
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "ZillaCheatsGui"
screenGui.ResetOnSpawn = false
screenGui.Parent = player:WaitForChild("PlayerGui")

-- Floating ball
local ball = Instance.new("ImageButton")
ball.Name = "GhostBall"
ball.Size = UDim2.new(0, 70, 0, 70)
ball.Position = UDim2.new(0.05, 0, 0.05, 0)
ball.BackgroundTransparency = 1
ball.Image = "rbxassetid://3570695787"
ball.ImageColor3 = Color3.fromRGB(170, 0, 255)
ball.ScaleType = Enum.ScaleType.Stretch
ball.AutoButtonColor = false
ball.Draggable = true
ball.Parent = screenGui

-- üëª Emoji
local emoji = Instance.new("TextLabel")
emoji.Size = UDim2.new(1, 0, 1, 0)
emoji.BackgroundTransparency = 1
emoji.Text = "üëª"
emoji.TextScaled = true
emoji.Font = Enum.Font.FredokaOne
emoji.TextColor3 = Color3.new(1, 1, 1)
emoji.Parent = ball

-- Menu Frame
local menu = Instance.new("Frame")
menu.Size = UDim2.new(0, 300, 0, 300)
menu.Position = UDim2.new(0, 100, 0, 100)
menu.BackgroundColor3 = Color3.fromRGB(40, 0, 60)
menu.Visible = false
menu.BorderSizePixel = 0
menu.Active = true
menu.Draggable = true
menu.Parent = screenGui

-- UIListLayout + Scrolling
local scroll = Instance.new("ScrollingFrame")
scroll.Size = UDim2.new(1, 0, 1, -40)
scroll.Position = UDim2.new(0, 0, 0, 40)
scroll.BackgroundTransparency = 1
scroll.BorderSizePixel = 0
scroll.ScrollBarThickness = 5
scroll.CanvasSize = UDim2.new(0, 0, 0, 0)
scroll.AutomaticCanvasSize = Enum.AutomaticSize.Y
scroll.Parent = menu

local layout = Instance.new("UIListLayout", scroll)
layout.Padding = UDim.new(0, 5)
layout.SortOrder = Enum.SortOrder.LayoutOrder

-- T√≠tulo
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.BackgroundTransparency = 1
title.Text = "ZillaCheats"
title.TextScaled = true
title.Font = Enum.Font.FredokaOne
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Parent = menu

-- Bot√£o redondo
local function createButton(text, emoji)
	local btn = Instance.new("TextButton")
	btn.Size = UDim2.new(1, -20, 0, 40)
	btn.Position = UDim2.new(0, 10, 0, 0)
	btn.BackgroundColor3 = Color3.fromRGB(100, 0, 180)
	btn.Text = emoji .. "  " .. text
	btn.TextColor3 = Color3.new(1, 1, 1)
	btn.Font = Enum.Font.FredokaOne
	btn.TextScaled = true
	btn.AutoButtonColor = false
	btn.BorderSizePixel = 0
	btn.ClipsDescendants = true
	btn.Parent = scroll

	local corner = Instance.new("UICorner", btn)
	corner.CornerRadius = UDim.new(0, 16)

	local defaultColor = btn.BackgroundColor3
	local hoverColor = Color3.fromRGB(150, 0, 220)

	btn.MouseEnter:Connect(function()
		TweenService:Create(btn, TweenInfo.new(0.2), {BackgroundColor3 = hoverColor}):Play()
	end)

	btn.MouseLeave:Connect(function()
		TweenService:Create(btn, TweenInfo.new(0.2), {BackgroundColor3 = defaultColor}):Play()
	end)

	return btn
end

-- Save preference helper
local function saveAttr(name, value)
	player:SetAttribute(name, value)
end

-- States
local teleportPos = nil
local espOn = player:GetAttribute("ESP") or false

-- Bot√µes
local upButton = createButton("Fly (15s)", "‚òÅÔ∏è")
local jumpButton = createButton("High Jump", "ü¶ò")
local espButton = createButton("ESP", "üëÅÔ∏è")
local teleportButton = createButton("Teleport", "üìç")

-- Velocidade (Speed Toggle)
local speedOn = false
local speedButton = createButton("Speed 40", "‚ö°")
speedButton.MouseButton1Click:Connect(function()
	speedOn = not speedOn
	humanoid.WalkSpeed = speedOn and 40 or 16
	speedButton.Text = speedOn and "‚ö° Speed ON" or "‚ö° Speed 40"
end)

-- Fly (15s)
local isUp = false
upButton.MouseButton1Click:Connect(function()
	if isUp then return end
	isUp = true
	local root = character:FindFirstChild("HumanoidRootPart")
	if root then
		root.Anchored = true
		root.CFrame = CFrame.new(root.Position.X, 196.2, root.Position.Z)
		task.wait(15)
		root.Anchored = false
	end
	isUp = false
end)

-- High Jump
jumpButton.MouseButton1Click:Connect(function()
	humanoid.UseJumpPower = true
	humanoid.JumpPower = 120
	humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
end)

-- ESP
espButton.MouseButton1Click:Connect(function()
	espOn = not espOn
	saveAttr("ESP", espOn)

	for _, plr in ipairs(Players:GetPlayers()) do
		if plr ~= player and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
			local hrp = plr.Character.HumanoidRootPart
			if espOn then
				if not hrp:FindFirstChild("ESPBox") then
					local box = Instance.new("BoxHandleAdornment")
					box.Name = "ESPBox"
					box.Adornee = hrp
					box.Size = Vector3.new(3,6,3)
					box.AlwaysOnTop = true
					box.ZIndex = 10
					box.Color3 = Color3.fromRGB(255, 0, 255)
					box.Transparency = 0.5
					box.Parent = hrp
				end
			else
				local box = hrp:FindFirstChild("ESPBox")
				if box then box:Destroy() end
			end
		end
	end
end)

-- Teleport
teleportButton.MouseButton1Click:Connect(function()
	local root = character:FindFirstChild("HumanoidRootPart")
	if not root then return end
	if not teleportPos then
		teleportPos = root.Position
		teleportButton.Text = "üìç Set!"
	else
		root.CFrame = CFrame.new(teleportPos)
		teleportButton.Text = "üìç Teleport"
		teleportPos = nil
	end
end)

-- Toggle menu
local menuVisible = false
ball.MouseButton1Click:Connect(function()
	menuVisible = not menuVisible
	menu.Visible = menuVisible
end)
